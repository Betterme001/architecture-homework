### 题目： 设计消息队列存储消息数据的MySql 表格



### 作业：

#### 1. 每个消息队列对应一张表

每个消息队列一张表，因为mysql 每个表对应一个B+ 树，这样一个消息队列对应一个B+树，减少索引和排序的影响。

#### 2. 表结构：

表: 消息队列：queue_example1

字段1:  ID : 自增ID， 主键索引

字段2：msg:    char 4096. 限制msg 大小

字段3:  consumed： 0，1，2 ：0代表未消费，1代表消费中，2代表消费完成。“消费中”用于处理：消费者处理消息过程中发生宕机，重启后重复消费消息。

#### 3. 建立索引原因

consumed 建立索引原因： 因为消费者在消费时，需要根据consumed字段，找出消费中和未消费的 消息。

